# Mineflayer MCP Server

**AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®æ€è€ƒã¨è¡Œå‹•ã‚’Minecraftä¸Šã§å¯è¦–åŒ–ã™ã‚‹MCPã‚µãƒ¼ãƒãƒ¼**

```
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚    ğŸ’­ ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«      â”‚  â† æ€è€ƒçŠ¶æ…‹ã‚’è¡¨ç¾
    â”‚       â†“                â”‚
    â”‚    ğŸ¤– Bot              â”‚  â† Mineflayeråˆ¶å¾¡
    â”‚    / | \               â”‚
    â”‚   ğŸ”¥ âœ¨ ğŸ’š              â”‚  â† çŠ¶æ…‹åˆ¥ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ
    â”‚                        â”‚
    â”‚   ğŸ  ğŸ—¼ ğŸ“              â”‚  â† å»ºç¯‰ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
    â”‚   ğŸ“Š ğŸ•¯ï¸ ğŸ’°              â”‚  â† BTCä¾¡æ ¼ãƒãƒ£ãƒ¼ãƒˆ
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æ©Ÿèƒ½

### ã‚³ã‚¢æ©Ÿèƒ½
- **æ€è€ƒå¯è¦–åŒ–** - AIã®å†…éƒ¨çŠ¶æ…‹ã‚’ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«ã§è¡¨ç¾
- **å»ºç¯‰æ“ä½œ** - ãƒ–ãƒ­ãƒƒã‚¯è¨­ç½®ã€æ§‹é€ ç‰©å»ºç¯‰ã€é“è·¯ã€æ‘ã®ä½œæˆ
- **ç§»å‹•ãƒ»æ¢ç´¢** - åº§æ¨™ç§»å‹•ã€å‘¨å›²ã‚¹ã‚­ãƒ£ãƒ³

### ãƒãƒ«ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ
- **ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆæ²ç¤ºæ¿** - è¤‡æ•°AIé–“ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€£æº
- **ãƒ¯ãƒ¼ã‚«ãƒ¼ãƒœãƒƒãƒˆ** - ä¸¦åˆ—ã‚¿ã‚¹ã‚¯å®Ÿè¡Œç”¨ã®å­ãƒœãƒƒãƒˆ

### Geminié€£æº
- **ç”»é¢ç›£è¦–** - Minecraftã®ç”»é¢ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§èªè­˜
- **éŸ³å£°/ãƒ†ã‚­ã‚¹ãƒˆæ“ä½œ** - Geminiã«ã‚ˆã‚‹è‡ªç„¶è¨€èªæ“ä½œ

### BitFlyeré€£æº
- **BTCä¾¡æ ¼å–å¾—** - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ä¾¡æ ¼è¡¨ç¤º
- **ä¾¡æ ¼ãƒãƒ£ãƒ¼ãƒˆ** - Minecraftå†…ã«ãƒ–ãƒ­ãƒƒã‚¯ã§ãƒãƒ£ãƒ¼ãƒˆæç”»
- **ãƒ­ãƒ¼ã‚½ã‚¯è¶³** - é™½ç·š/é™°ç·šã‚’ç·‘/èµ¤ãƒ–ãƒ­ãƒƒã‚¯ã§è¡¨ç¾

## æ€è€ƒçŠ¶æ…‹ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«

|çŠ¶æ…‹          |ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«|æ„å‘³        |
|-------------|---------|----------|
|`idle`       |ç°è‰²ã®ãƒ€ã‚¹ãƒˆ |å¾…æ©Ÿä¸­      |
|`processing` |ç‚        |å‡¦ç†ä¸­ãƒ»è¨ˆç®—ä¸­|
|`searching`  |ã‚¨ãƒ³ãƒãƒ£ãƒ³ãƒˆ |æƒ…å ±åé›†ä¸­   |
|`executing`  |ç·‘ã®å…‰     |ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å®Ÿè¡Œ|
|`error`      |èµ¤ã„å…‰     |ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿ   |

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 1. ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
npm install
npm run build
```

### 2. ç’°å¢ƒå¤‰æ•°

```bash
cp .env.example .env
# GEMINI_API_KEY, MC_HOST, MC_PORT ã‚’è¨­å®š
```

### 3. Minecraftã‚µãƒ¼ãƒãƒ¼æº–å‚™

- Java Edition ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•
- **ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼æ¨©é™ãŒå¿…è¦**ï¼ˆ`/op botname`ï¼‰
- ã‚·ãƒ³ã‚°ãƒ«ãƒ—ãƒ¬ã‚¤ã®ã€ŒLANã«å…¬é–‹ã€ã§ã‚‚OK

### 4. Claude Desktopè¨­å®š

`claude_desktop_config.json`:

```json
{
  "mcpServers": {
    "mineflayer": {
      "command": "node",
      "args": ["/path/to/mineflayer-mcp-server/dist/index.js"]
    }
  }
}
```

## èµ·å‹•æ–¹æ³•

```bash
# MCPã‚µãƒ¼ãƒãƒ¼ï¼ˆstdioï¼‰- Claude Desktopç”¨
npm start

# Gemini Liveã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ
npm run start:agent

# WebSocket MCPã‚µãƒ¼ãƒãƒ¼
npm run start:mcp-ws

# ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ²ç¤ºæ¿ã‚µãƒ¼ãƒãƒ¼
npm run board

# Geminiç”»é¢ç›£è¦–
npm run gemini
```

## ãƒ„ãƒ¼ãƒ«ä¸€è¦§

### æ¥ç¶šãƒ»ç§»å‹•
| ãƒ„ãƒ¼ãƒ« | èª¬æ˜ |
|-------|------|
| `minecraft_connect` | ã‚µãƒ¼ãƒãƒ¼ã«æ¥ç¶š |
| `minecraft_disconnect` | åˆ‡æ–­ |
| `minecraft_get_position` | ç¾åœ¨ä½ç½®å–å¾— |
| `minecraft_move_to` | åº§æ¨™ç§»å‹• |
| `minecraft_chat` | ãƒãƒ£ãƒƒãƒˆé€ä¿¡ |

### å»ºç¯‰
| ãƒ„ãƒ¼ãƒ« | èª¬æ˜ |
|-------|------|
| `minecraft_place_block` | ãƒ–ãƒ­ãƒƒã‚¯è¨­ç½® |
| `minecraft_dig_block` | ãƒ–ãƒ­ãƒƒã‚¯ç ´å£Š |
| `minecraft_build_structure` | æ§‹é€ ç‰©å»ºç¯‰ (house/tower/marker) |
| `minecraft_build_road` | é“è·¯å»ºç¯‰ |
| `minecraft_build_village` | æ‘å»ºç¯‰ |

### å¯è¦–åŒ–
| ãƒ„ãƒ¼ãƒ« | èª¬æ˜ |
|-------|------|
| `minecraft_visualize_thinking` | æ€è€ƒçŠ¶æ…‹ã‚’ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«è¡¨ç¤º |
| `minecraft_look_around` | å‘¨å›²ã‚¹ã‚­ãƒ£ãƒ³ |

### ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé€£æº
| ãƒ„ãƒ¼ãƒ« | èª¬æ˜ |
|-------|------|
| `agent_board_read` | æ²ç¤ºæ¿ã‚’èª­ã‚€ |
| `agent_board_write` | æ²ç¤ºæ¿ã«æ›¸ã |
| `agent_board_wait` | æ–°ç€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å¾…æ©Ÿ |

### BTCä¾¡æ ¼
| ãƒ„ãƒ¼ãƒ« | èª¬æ˜ |
|-------|------|
| `minecraft_get_btc_price` | ç¾åœ¨ä¾¡æ ¼å–å¾— |
| `minecraft_draw_price_chart` | ä¾¡æ ¼ãƒãƒ£ãƒ¼ãƒˆæç”» |
| `minecraft_draw_candlestick_chart` | ãƒ­ãƒ¼ã‚½ã‚¯è¶³ãƒãƒ£ãƒ¼ãƒˆ |

## ä½¿ç”¨ä¾‹

### æ€è€ƒãƒ—ãƒ­ã‚»ã‚¹ã®å¯è¦–åŒ–

```
Human: å®¶ã‚’å»ºã¦ã¦

Claude: [minecraft_visualize_thinking state="searching"] â†’ å ´æ‰€ã‚’æ¢ç´¢...
        [minecraft_look_around] â†’ å‘¨è¾ºç¢ºèª
        [minecraft_visualize_thinking state="executing"] â†’ å»ºç¯‰é–‹å§‹ï¼
        [minecraft_build_structure structure="house"]
```

### ãƒãƒ«ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé€£æº

```
Human: æ²ç¤ºæ¿ã§Geminiã‹ã‚‰ã®å ±å‘Šã‚’å¾…ã£ã¦

Claude: [agent_board_wait filter="Gemini"]
        â†’ æ–°ã—ã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸: [Gemini] å®¶ã®å»ºç¯‰å®Œäº†ã—ã¾ã—ãŸ
```

### BTCãƒãƒ£ãƒ¼ãƒˆè¡¨ç¤º

```
Human: ã“ã“ã«BTCã®ãƒ­ãƒ¼ã‚½ã‚¯è¶³ãƒãƒ£ãƒ¼ãƒˆã‚’æã„ã¦

Claude: [minecraft_get_position] â†’ (100, 64, 200)
        [minecraft_draw_candlestick_chart x=100 y=64 z=200]
        â†’ ãƒãƒ£ãƒ¼ãƒˆæç”»å®Œäº†
```

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
src/
â”œâ”€â”€ index.ts              # MCPã‚µãƒ¼ãƒãƒ¼ (stdio)
â”œâ”€â”€ mcp-ws-server.ts      # MCPã‚µãƒ¼ãƒãƒ¼ (WebSocket)
â”œâ”€â”€ bot-manager.ts        # Mineflayerãƒœãƒƒãƒˆç®¡ç†
â”œâ”€â”€ tools/                # MCPãƒ„ãƒ¼ãƒ«
â”œâ”€â”€ agent/                # Gemini Liveã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ
â”œâ”€â”€ bitflyer.ts           # BitFlyer API
â”œâ”€â”€ realtime-board.ts     # æ²ç¤ºæ¿ã‚µãƒ¼ãƒãƒ¼
â””â”€â”€ gemini-*.ts           # Geminié€£æº
```

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT
